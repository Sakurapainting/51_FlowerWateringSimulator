C51 COMPILER V9.54   RELAY                                                                 05/28/2025 12:47:22 PAGE 1   


C51 COMPILER V9.54, COMPILATION OF MODULE RELAY
OBJECT MODULE PLACED IN .\Objects\relay.obj
COMPILER INVOKED BY: D:\Keil5\C51\BIN\C51.EXE relay.c OPTIMIZE(8,SPEED) BROWSE DEBUG OBJECTEXTEND PRINT(.\Listings\relay
                    -.lst) OBJECT(.\Objects\relay.obj)

line level    source

   1          #include "relay.h"
   2          #include "pca.h"  // 添加pca.h以使用BYTE类型定义
   3          
   4          // 继电器控制引脚定义
   5          sbit RELAY_CTRL = P1^1;  // 继电器控制引脚 - 低电平时继电器闭合
   6          sbit RELAY_NODE1 = P1^0; // 继电器常开节点连接的第一个引脚 - 连接到方波发生器输出
             -，模拟流量计信号输出
   7          sbit RELAY_NODE2 = P3^2; // 继电器常开节点连接的第二个引脚 - 连接到INT0，用于捕获
             -量计脉冲
   8          
   9          // 继电器控制函数实现
  10          void Relay_Init(void) {
  11   1          RELAY_CTRL = 1;      // 初始状态下继电器断开（高电平），即水阀关闭
  12   1          RELAY_NODE1 = 1;     // 将P1.0设为高电平（作为输入时的上拉）
  13   1          RELAY_NODE2 = 1;     // 将P3.2设为高电平（作为输入时的上拉）
  14   1          
  15   1          /* 低电平触发说明：
  16   1           * - P1.1 (RELAY_CTRL) 输出低电平时继电器吸合，水阀打开
  17   1           * - 输出高电平时继电器断开，水阀关闭
  18   1           */
  19   1      }
  20          
  21          void Relay_On(void) {
  22   1          RELAY_CTRL = 0;      // 低电平，开启继电器（吸合，水阀打开）
  23   1      }
  24          
  25          void Relay_Off(void) {
  26   1          RELAY_CTRL = 1;      // 高电平，关闭继电器（断开，水阀关闭）
  27   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =     13    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
