C51 COMPILER V9.54   RELAY                                                                 05/25/2025 13:38:58 PAGE 1   


C51 COMPILER V9.54, COMPILATION OF MODULE RELAY
OBJECT MODULE PLACED IN .\Objects\relay.obj
COMPILER INVOKED BY: D:\Keil5\C51\BIN\C51.EXE relay.c OPTIMIZE(8,SPEED) BROWSE DEBUG OBJECTEXTEND PRINT(.\Listings\relay
                    -.lst) OBJECT(.\Objects\relay.obj)

line level    source

   1          #include "relay.h"
   2          #include "pca.h"  // 添加pca.h以使用BYTE类型定义
   3          
   4          // 继电器控制引脚定义
   5          sbit RELAY_CTRL = P1^1;  // 继电器控制引脚
   6          sbit RELAY_NODE1 = P1^0; // 继电器常开节点连接的第一个引脚
   7          sbit RELAY_NODE2 = P3^2; // 继电器常开节点连接的第二个引脚
   8          
   9          // 继电器控制函数实现
  10          void Relay_Init(void) {
  11   1          RELAY_CTRL = 0;      // 初始状态下继电器关闭
  12   1          RELAY_NODE1 = 1;     // 将P1.0设为高电平（作为输入时的上拉）
  13   1          RELAY_NODE2 = 1;     // 将P3.2设为高电平（作为输入时的上拉）
  14   1      }
  15          
  16          void Relay_On(void) {
  17   1          RELAY_CTRL = 1;      // 开启继电器
  18   1      }
  19          
  20          void Relay_Off(void) {
  21   1          RELAY_CTRL = 0;      // 关闭继电器
  22   1      }
  23          
  24          BYTE Relay_GetState(void) {
  25   1          return RELAY_CTRL;   // 返回继电器当前状态
  26   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =     19    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
